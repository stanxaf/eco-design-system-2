# AI Assistant Instructions

## Project Context

This is the **DTN Design System Registry** - the only design system used across hundreds of projects at DTN Weather Data Company. It's optimized for v0.dev integration and serves multiple environments.

**Registry URL:** `https://eco-design-system-2.vercel.app/r/registry.json`

---

## User Preferences

- **Concise responses** - Minimal scope, only what's explicitly requested
- **Explain first** - Explain the solution before writing code
- **No auto-commits** - Never commit or push code automatically
- **Reuse components** - Use existing registry components, don't recreate
- **Raw samples** - Documentation should show raw components, not elaborate demos
- **No inline styles** - Never use `style={{ backgroundColor: "var(...)" }}`
- **Quality focus** - Robust code, don't blindly fulfill commands, indicate when something can't be done
- **Version 0 compatible** - All features must work in version 0 of the design system

---

## Critical Rules - NEVER Break These

### üö® Rule 1: Protect v0 Integration

**DON'T remove from `scripts/build-registry.js` (line 237):**
```javascript
file.type === "registry:style" ||    // ‚ö†Ô∏è CRITICAL - required for v0
```

**DON'T remove `cssVars` from theme in `registry.json`**

Breaking either = v0 renders with default shadcn styles instead of DTN theme.

### üö® Rule 2: Always Rebuild After Changes

After modifying `registry.json`, component files, or `globals.css`:
```bash
npm run registry:build
npm run verify:v0  # Should show ‚úÖ cssVars present, ‚úÖ content present
```

### üö® Rule 3: Component Standards

**When adding new shadcn components:**
- Use pure shadcn code (no custom documentation)
- Use `h-8` height (32px), not `h-9` (36px)
- Remove shadow classes (`shadow-xs`, `shadow-none`)
- Use only `lucide-react` icons, not Tabler icons
- Add "New" badge: `"badge": "New"` in registry.json

See [ADDING_SHADCN_COMPONENTS.md](./ADDING_SHADCN_COMPONENTS.md) for complete process.

---

## Documentation Structure

- **[README.md](./README.md)** - Main entry, theming, running locally
- **[ADDING_SHADCN_COMPONENTS.md](./ADDING_SHADCN_COMPONENTS.md)** - Process for adding new shadcn components
- **[REGISTRY_INTEGRATION.md](./REGISTRY_INTEGRATION.md)** - Using registry in DTN projects
- **[V0_INTEGRATION.md](./V0_INTEGRATION.md)** - v0.dev compatibility requirements (READ THIS when touching build scripts or theme)

---

## Quick Reference

### Always Do
- ‚úÖ Read `V0_INTEGRATION.md` before modifying build scripts or theme
- ‚úÖ Rebuild registry after changes: `npm run registry:build`
- ‚úÖ Verify v0 compatibility: `npm run verify:v0`
- ‚úÖ Test changes locally before suggesting
- ‚úÖ Keep `cssVars` in registry.json synced with `globals.css`

### Never Do
- ‚ùå Remove `cssVars` from theme in registry.json
- ‚ùå Remove `registry:style` from build-registry.js
- ‚ùå Use inline `style={{ backgroundColor: ... }}`
- ‚ùå Skip rebuilding after changes
- ‚ùå Commit/push automatically
- ‚ùå Add custom JSDoc to pure shadcn components

---

## Emergency Recovery

If v0 integration breaks:
1. Run: `npm run verify:v0`
2. Check recent changes to `registry.json` and `build-registry.js`
3. Ensure theme has `cssVars` property
4. Ensure build script includes `registry:style` (line 237)
5. Rebuild: `npm run registry:build`
6. See [V0_INTEGRATION.md](./V0_INTEGRATION.md) "Common Issues" section

---

## Notes

- This is a **Vercel-focused registry** - be careful with registry settings
- Blocks embed all custom component code (see V0_INTEGRATION.md "How Blocks Work")
- Height standard: 32px (`h-8`) for inputs/buttons
- No shadows in components
